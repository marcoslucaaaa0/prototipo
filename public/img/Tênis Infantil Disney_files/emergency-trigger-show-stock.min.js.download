"use strict";Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),o=r.length>>>0;if(0===o)return!1;for(var n=0|t,i=Math.max(n>=0?n:o-Math.abs(n),0);i<o;){if(r[i]===e)return!0;i++}return!1}}),function(){function e(e){var t=document.querySelector(".emergency-trigger"),r=document.createElement("div");if(r.innerHTML=e,t.innerHTML=e,t.classList.contains("hide")&&t.classList.remove("hide"),document.querySelector("[data-altered-color]")&&document.querySelector("[data-altered-color]").classList.add("active-sense-icon"),document.querySelector(".trigger-remove-prod")&&null!==document.querySelector(".trigger-remove-prod")&&(document.querySelector(".trigger-remove-prod").style.display="none"),document.querySelector(".mktplacetooltip")&&null!==document.querySelector(".mktplacetooltip")){var o=document.querySelector(".mktplacetooltip");o.style.marginLeft="4px",o.cloneNode(!0);var n=document.querySelector(".product-seller-name");n&&n.insertBefore(o,n.nextSibling)}}function t(e){var t=document.querySelector(".emergency-trigger");t.classList.contains("hide")||t.classList.add("hide");var r=sessionStorage.getItem("emergency-trigger");if(!r)return void sessionStorage.setItem("emergency-trigger",e);var o=r.split(",");o.push(e),sessionStorage.setItem("emergency-trigger",o)}function r(r,o){var n={method:"get",type:"html",data:{sku:r,sellerId:o},success:function(o){"false"!==o?e(o):t(r)},error:function(e){console.error("emergency trigger error: ",e)}};window.freedom.restClient.request("/stock",n)}function o(e){var t=document.querySelector(".emergency-trigger");if(e&&t){var o=null,n=null;e instanceof HTMLElement?(o=e.getAttribute("data-sku"),n=e.getAttribute("data-sellerid")):(o=e.sku,n=e.sellerId);var i=sessionStorage.getItem("emergency-trigger");if(i){var s=i.split(",").includes(o);s?t.classList.contains("hide")||t.classList.add("hide"):r(o,n)}else r(o,n)}}var n=document.querySelector(".product__size--list")?document.querySelectorAll(".product__size--list li span"):document.querySelectorAll("#buy-box .product-size-selector .sku-select .radio-options .active a");n&&1===n.length&&window.freedom.nsPubSub.pub("emergency-trigger-show-stock",n[0]),window.freedom.nsPubSub.sub("emergency-trigger-show-stock",o)}();
//# sourceMappingURL=../../../../../../target/maps/_refactoring/_components/product/emergency-trigger/emergency-trigger-show-stock/all/emergency-trigger-show-stock.min.js.map
